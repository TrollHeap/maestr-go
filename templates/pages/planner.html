{{define "planner-page"}}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Planner - Maestro</title>
    <link rel="stylesheet" href="/public/css/list-exercice.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        .planner-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .planner-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border-terminal);
        }

        .planner-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            color: var(--fg-terminal);
            cursor: pointer;
            font-family: var(--mono-font);
            text-transform: uppercase;
            font-size: 12px;
            transition: all 0.2s;
        }

        .planner-tab:hover,
        .planner-tab.active {
            background: rgba(0,255,0,0.1);
            border-bottom: 2px solid var(--fg-terminal);
        }

        .planner-content {
            min-height: 500px;
        }

        .review-card {
            padding: 15px;
            margin: 10px 0;
            background: #111;
            border: 1px solid var(--border-terminal);
            transition: all 0.2s;
        }

        .review-card:hover {
            border-color: var(--fg-terminal);
            box-shadow: 0 0 10px var(--shadow-glow);
        }

        .overdue {
            border-left: 4px solid #ff6600;
        }

        .upcoming {
            border-left: 4px solid #00ff00;
        }
    </style>
</head>
<body>
    <div class="scan-line"></div>
    
    {{template "navbar"}}

    <div class="terminal-header"> <div class="terminal-title">
            ╔═══════════════════════════════════╗<br>
            ║ PLANNER & RÉVISIONS               ║<br>
            ╚═══════════════════════════════════╝
        </div>
        <div class="terminal-subtitle">
            &gt; CALENDRIER SRS | STATUS: <span class="blink">ACTIF</span>
        </div>
    </div>

    <div class="planner-container">
        <!-- Tabs -->
        <div class="planner-tabs">
            <button class="planner-tab active" 
                    hx-get="/planner/day?date={{.CurrentDate.Format "2006-01-02"}}" 
                    hx-target="#planner-content"
                    hx-swap="innerHTML">
                Aujourd'hui
            </button>
            <button class="planner-tab" 
                    hx-get="/planner/week" 
                    hx-target="#planner-content"
                    hx-swap="innerHTML">
                Semaine
            </button>
            <button class="planner-tab" 
                    hx-get="/planner/month" 
                    hx-target="#planner-content"
                    hx-swap="innerHTML">
                Mois
            </button>
        </div>

        <!-- Content (swap par HTMX) -->
        <div id="planner-content" class="planner-content">
            {{template "planner-day-view" .}}
        </div>
    </div>

    <div class="terminal-footer">
        ┌────────────────────────────────────────────┐<br>
        │ © 2025 MAESTRO | SRS PLANNER v2.0          │<br>
        └────────────────────────────────────────────┘
    </div>
</body>
</html>
{{end}}
