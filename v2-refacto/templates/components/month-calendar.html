{{define "month-calendar"}}
<div class="date-navigation">
    <button 
        class="date-nav-btn"
        hx-get="/planner/month?month={{.Year}}-{{.MonthNum | add -1 | printf "%02d"}}"
        hx-target="#tab-content-area"
        hx-swap="innerHTML"
    >◄ MOIS PRÉCÉDENT</button>
    
    <div class="current-date">{{.Month}} {{.Year}}</div>
    
    <button 
        class="date-nav-btn"
        hx-get="/planner/month?month={{.Year}}-{{.MonthNum | add 1 | printf "%02d"}}"
        hx-target="#tab-content-area"
        hx-swap="innerHTML"
    >MOIS SUIVANT ►</button>
</div>

<div class="month-calendar">
    <!-- Header row -->
    <div class="month-day" style="background: #111; font-weight: bold;">LUN</div>
    <div class="month-day" style="background: #111; font-weight: bold;">MAR</div>
    <div class="month-day" style="background: #111; font-weight: bold;">MER</div>
    <div class="month-day" style="background: #111; font-weight: bold;">JEU</div>
    <div class="month-day" style="background: #111; font-weight: bold;">VEN</div>
    <div class="month-day" style="background: #111; font-weight: bold;">SAM</div>
    <div class="month-day" style="background: #111; font-weight: bold;">DIM</div>

    <!-- Days -->
    {{range .Days}}
    <div class="month-day {{if .IsToday}}today{{end}} {{if .IsOtherMonth}}other-month{{end}}">
        <div class="month-day-number">{{.Number}}</div>
        {{if gt .TaskCount 0}}
        <div class="month-day-indicator">{{repeat "●" .TaskCount}}</div>
        {{end}}
    </div>
    {{end}}
</div>
{{end}}
